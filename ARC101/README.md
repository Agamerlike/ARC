# ARC101
Atcoder Regular Contest101の自分の解答

時間内では未提出。爆死が確定したためCは解いたが撤退した。

# C
問題構造はStatic Sushiによく似ている。というかあっちがD500点なのにどうしてこっちがC300点なんだ……インフレ進み過ぎだろう……

座標0からスタートの部分が厄介。マイナス側に行くかプラス側に行くかを最初に決める必要がある。またサンプルで示されているように、どちらかに進んだときいつ引き返すのが最適かそれとも引き返さないのが最適かについても考える必要がある。

まず、前処理として0以下の部分列と0以上の部分列を別の配列に保存する。入力はソートされているが、問題となるのは座標0からの距離、すなわち絶対値なのでマイナスの方は絶対値を取った上でソートし直すか逆順に並べるかしておく必要がある。また、もし座標0にろうそくが存在した場合重複して入力することになるのでその場合kを1増やすことによって調整する。

あとは1からk番目までプラス側の配列を進めつつ残りをマイナス側から取った場合の距離の合計やその逆が最小になる点を探せばよいが(O(K))プラス側やマイナス側にはk番目が存在しない場合がありうるため、場合分けが必要になる。

場合分けは大ざっぱに以下のようになる。

* プラス側もマイナス側もk個以上存在する。→プラス側もマイナス側も順当に走査して調べることができる。すべてプラス側・マイナス側の場合を忘れないように注意。
* プラス側もしくはマイナス側のどちらかしかk個以上存在しない。→どちらかは適切に折り返して調べる必要が出てくる。普通に実装するとせぐふぉを起こしやすいので注意。
* プラス側もマイナス側もk個未満しか存在しない。→プラス側もマイナス側も適切に折り返して調べなければならない。

書いてて気づいたけど結局どの場合でもどちらからスタートする場合も調べる必要があるので、うまくやればif文なしで済ませられそう。読みやすいかどうかは置いといて。

条件の **以上** の部分を **より大きい** と書いていたために長い間REが取れなかった。いやはや、本当に提出しなくてよかった。

# D
中央値の定義が正式なものと若干異なる。大きく誤読して解けたと思ったら解けてない。その後点数見てこれ無理ってなり今回の撤退を決断した。

以下は誤読したときの「もしも」解答であることを記しておく。

-------

もしも数列aがソートされている、もしくは中央値の定義にソートを必要としない（単純にn/2番目のものが中央値）ということになっていたらば、

nが奇数の場合は(n+1)/2番目、偶数の場合はn/2+1番目のものが答えである。

k番目のものについてそれぞれ何回中央値になるかを実際に調べる。すると、最初からn/2番目については1,3,5,7,...と奇数の昇順になり、最後からn/2番目については2,4,6,8...と偶数の昇順になることが分かる（図示すれば理論的に分かるが言葉ではなんとも説明しづらい）。

ここまで分かれば上記命題はほぼ真であることが示されたも同然である。奇数の部分、すなわち最初からn/2番目までについて考える。この部分の個数の合計は偶数の場合(n/2)^2=n^2/4、奇数の場合{(n+1)/2}^2=(n^2+2\*n+1)/4となる。これがすべての区間について中央値を求めた集合の要素数n\*(n+1)/2個の半分を占めるかについて考えれば良い。奇数の場合この中央値は(n^2+n+2)/4番目、偶数の場合はこの中央値は(n^2+n)/4番目である。ここで、nは自然数なのでn^2/4 < (n^2+n)/4かつ(n^2+2\*n+1)/4 < (n^2+n+2)/4が成り立つ。したがってまた足りない分や余った分を補ってもn/2未満になることからこの境界面で中央値が確定する。[]

**ここまで「もしも」**

------

ソートされてないとしても、この形にうまく落とし込めればできたかもしれないが全く思い浮かばなかった。