# ARC099
Atcoder Regular Contest099の自分の解答

1完遅解き爆死確定コース。もういやだ。生きたくない

# C
最終的に全部1になるのは分かっているので1にする区間を徐々に広げていくのが最適となる。最初にどの区間を1にするか？　というのは最大k通り存在するので、k通りについて全探索する。

……という方針は一瞬で求まったが、ここから具体的に何回かかるかを計算するのに無限に時間がかかった（今回の爆死の主因その1）。1WAを経て最終的に0-indexed(0,1,2,...,n-1)に対して左側が`l/(k-1)+(l%(k-1)==0 ? 0: 1)`、右側が`(n-r-1)/(k-1)+((n-r-1)%(k-1)==0 ? 0 : 1)`という風に着地した。ただし、lは最初の操作が終わった後の一番左の1の位置(0-indexed)、rは同様に一番右の1の位置(0-indexed)である。

だいぶ迷走したのではっきりとは言えないが、1の範囲を順番に増やしていくので端と被るように埋めていくため、k-1個分ずつ1の範囲が増えていく……という理屈だったと思う。

# D
考察ができなかった問題。

とりあえずテキトーな数字について計算してみるとn99...9(ただしnは1～9、その後に続く9は0個以上)ならば条件を満たしそうなことが分かったのでそのようなプログラムを書いたところWA。この推論は数字が増える速さよりも分数で割られる数字の増加速度のほうが速いという点に基づいて考えられたものなのでどこかで逆転する場所があるのだろうと推測される。とりあえず確認したところ5ケタまではそのような反例は見つからなかった。

# E
Cをやっとこさ終わらせてDが無理であることを確かめた残りの時間で考えたので当然無理。

分け方さえ分かれば道の本数は対角線を求める要領で自動的に求まる(nCn-1=n(n-1)/2)。したがって焦点はどうやって分け方を求めていくか？　というところになる。

ある頂点を高州に属するとする。その頂点と直接につながっている頂点は高州に属することができるので、とりあえずすべて高州に属するものとする。あとでO(1)で取り出せるように高州に属した点をバケット法で記録しておく。

高州に属せなかったものはすべて橋州に属さなければならない。すべての頂点が互いに直接つながっているということは、どの点からどの点に対する最短経路を取ってもそのコストが辺ひとつ分になるということである。したがってダイクストラ法によって橋州に属することになった頂点からすべての頂点への最短経路を調査し、橋州に属する頂点への最短経路がすべて1以下になるならば分けることができる、と言える。

こうして求まった可能な分け方から最も道の本数が少なくなるものが解である。

以上の実装を行ったところサンプルが間違っていた（正確にはコンテスト時間中には実装できていない）。理由としては高州に属することができる頂点をすべて高州に属することにしたためであると考えられる。当たり前だがこれを任意の頂点の組み合わせについて調べると明らかに間に合わない。
